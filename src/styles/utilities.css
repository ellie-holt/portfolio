/* src/styles/utilities.css */

@layer utilities {
  /* Background gradient */
  .bg-mesh-soft {
    background-image: var(--bg-mesh-soft);
    background-size: cover;
    background-repeat: no-repeat;
  }
  /* Static noise */
  .bg-noise {
    background-image: url("data:image/svg+xml,%0A%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 700 700' width='700' height='700'%3E%3Cdefs%3E%3Cfilter id='noise' x='-20%25' y='-20%25' width='140%25' height='140%25' filterUnits='objectBoundingBox' primitiveUnits='userSpaceOnUse'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='3' stitchTiles='stitch' /%3E%3C/filter%3E%3C/defs%3E%3Crect width='700' height='700' fill='%23fff' filter='url(%23noise)' opacity='0.08' /%3E%3C/svg%3E");
    background-size: 200px 200px;
    background-repeat: repeat;
    mix-blend-mode: multiply;
    opacity: 0.25;
  }

  /* Grid overlay */
  .grid-overlay {
    background-image: linear-gradient(
        rgba(167, 192, 205, 0.6) 1px,
        transparent 1px
      ),
      linear-gradient(90deg, rgba(167, 192, 205, 0.6) 1px, transparent 1px);
    background-size: 10px 10px;
  }

  /* Flexible divider */
  .divider {
    --line: var(--color-azure-ink); /* line colour */
    --thick: 1px; /* line thickness */
    --item-bg: #fff; /* panel background */

    background: var(--line); /* gap + padding reveal the lines */
  }
  .divider > * {
    background: var(--item-bg);
  }

  .divider-rail {
    padding: var(--thick);
  }
  .divider-gap {
    gap: var(--thick);
  }
  .divider-x {
    column-gap: var(--thick);
  }
  .divider-y {
    row-gap: var(--thick);
  }
  .divider-inherit {
    --thick: inherit;
    --line: inherit;
    --item-bg: inherit;
  }

  .shadow-border {
    box-shadow: 0 0 0 1px rgb(0, 0, 0);
  }

  /* Blocky shadow utilities */
  .shadow-blocky {
    box-shadow: var(--shadow-blocky) var(--tw-shadow-color, var(--color-black));
  }
  .shadow-blocky-sm {
    box-shadow: var(--shadow-blocky-sm)
      var(--tw-shadow-color, var(--color-black));
  }
  .shadow-blocky-md {
    box-shadow: var(--shadow-blocky-md)
      var(--tw-shadow-color, var(--color-black));
  }
  .shadow-blocky-lg {
    box-shadow: var(--shadow-blocky-lg)
      var(--tw-shadow-color, var(--color-black));
  }

  /* Brutalist border */
  .brutal-border {
    @apply border-2 border-black;
  }

  /* Brutalist card */
  .brutal-card {
    @apply border-2 border-black bg-white shadow-blocky;
  }

  /* Brutalist button */
  .brutal-btn {
    @apply border-2 border-black bg-white font-mono font-bold uppercase shadow-blocky px-4 py-2 cursor-pointer transition-transform;
  }
  .brutal-btn:active {
    box-shadow: none;
    transform: translate(6px, 6px);
  }

  /* Brutalist nav item */
  .brutal-nav-item {
    @apply border-2 border-black shadow-blocky relative z-30 flex items-center justify-center flex-1 cursor-pointer bg-white isolate;
  }
  .brutal-nav-item > a {
    @apply inline w-full px-2 py-4 xs:py-5 md:py-6 font-bold text-center align-baseline;
  }
  .brutal-nav-item > span {
    @apply absolute left-0 right-0 bottom-0 h-2 transition-all duration-300 ease-in-out;
  }
  .brutal-nav-item:hover > span,
  .brutal-nav-item:focus-within > span {
    @apply h-full;
  }

  .accent-spine {
    --accent: var(--color-tang-500);
    background-color: var(--accent);
    @apply pointer-events-none absolute inset-y-0 left-0 w-1 opacity-80 transition-opacity duration-200 group-hover:opacity-100;
  }
}
